@page "/register"

<h3>Registrace</h3>

@if (!_registerSuccess)
{
    <EditForm Model="_userToRegister" OnValidSubmit="RegisterAsync">
        <DataAnnotationsValidator />

        <div class="form-group my-3">
            <label for="username">Uživatelské jméno:</label>
            <InputText id="username" class="form-control" @bind-Value="_userToRegister.UserName" />
            <ValidationMessage For="@(() => _userToRegister.UserName)" />
        </div>

        <div class="form-group my-3">
            <label for="e-mail">E-mail:</label>
            <InputText id="e-mail" class="form-control" @bind-Value="_userToRegister.Email" />
            <ValidationMessage For="@(() => _userToRegister.Email)" />
        </div>

        <div class="form-group my-3">
            <label for="password">Heslo:</label>
            <InputText id="password" type="password" class="form-control" @bind-Value="_userToRegister.Password" />
            <ValidationMessage For="@(() => _userToRegister.Password)" />
        </div>

        <div class="form-group my-3">
            <label for="firstname">Jméno:</label>
            <InputText id="firstname" class="form-control" @bind-Value="_userToRegister.FirstName" />
            <ValidationMessage For="@(() => _userToRegister.FirstName)" />
        </div>

        <div class="form-group my-3">
            <label for="lastname">Příjmení:</label>
            <InputText id="lastname" class="form-control" @bind-Value="_userToRegister.LastName" />
            <ValidationMessage For="@(() => _userToRegister.LastName)" />
        </div>

        <div class="form-group my-3">
            <label for="discord">Discord uživatelské jméno:</label>
            <InputText id="discord" class="form-control" @bind-Value="_userToRegister.DiscordUsername" />
            <ValidationMessage For="@(() => _userToRegister.DiscordUsername)" />
        </div>

        <FileUploader OnChange="ImageUpload" />

        <ValidationSummary />

        <button type="submit" class="btn btn-primary btn-lg">Registrovat</button>

        @if (_registerFailure)
        {
            <p class="my-3 text-danger">@_registerErrorMessage</p>
        }
    </EditForm>
}
else
{
    <h4>Registrace proběhla úspěšně!</h4>
    <a href="/signin" class="btn btn-success btn-lg">Přejít na přihlášení</a>
}
